---
layout: post
title: 从零开始的科研：远程连接Linux服务器跑深度学习任务
subtitle: 
categories: 科研工具
tags: [服务器, pycharm]
---

我使用的编辑器是 jetbrain 家的 **pycharm**，除此之外 VSCode 等等也是可以的。

## 远程连接服务器
### 获取渠道
- 自己购买
> eg. AutoDL[链接](https://www.autodl.com/home)

- 使用分配的账号
> 我使用的就是组里分配的账号

### 使用方式
在 pycharm 的 terminal 中输入登录命令和登录密码

**step1：**
![如图](https://picss.sunbangyan.cn/2023/12/07/6dc926eb135ca244ac78ab2547ddad43.jpeg)

**step2:**
这里也需要切换到远程服务器的环境:
![如图](https://picdm.sunbangyan.cn/2023/12/07/09ce823d026dca19278bf99fa039b34c.jpeg)
好了之后命令行应该是这样子:
![1](https://picdl.sunbangyan.cn/2023/12/07/a6b2f563b95c6682cbfade26e83836e1.jpeg)

**step3:**
如果想看远程服务器的文件树
![2](https://picss.sunbangyan.cn/2023/12/07/f9e6aa6afb131c0b1adb141f0d6e1e01.jpeg)

需要进行如下配置：
点击 tools -> deployment（部署） -> browse remote host 

如果找不到对应的 remote host, 需要自己添加 SFTP 的账号，输入 passwd


## 运行代码常用命令
首先到 py 程序所在目录下，

### 运行并直接输出结果
代码如下：
```console
python test.py  
```
存在的问题是如果断网或者关闭代码编辑器，与服务器的连接会中断，代码也无法顺利运行

### 后台运行（常用）
**nohup**:
代码如下：
```console
nohup python test.py > output.txt 2>&1 &  # 表示后台运行 test.py 这一 py 文件，将标准输出和错误都输出到 output.txt 这一文件里
```

### 其他
1. 查看文件绝对路径
```console
pwd
```

2. 终止正在运行的代码
**kill命令**：结束进程
> （1）通过jobs命令查看jobnum，然后执行   kill %jobnum
> （2）通过ps命令查看进程号PID，然后执行  kill %PID
> 如果是前台进程的话，直接执行 Ctrl+c 就可以终止了

**Ctrl+Z**
> 功能：将一个正在前台执行的命令放到后台，并且处于暂停状态

3. 查看文件内容
**tail**:显示文件尾部的n行内容
```console
tail  -n  <行数>  filename    
```

**cat**:查看文件名为file1的文件内容
```console
cat file1       
``` 

### p.s. 不要连校园网
校园网自带防火墙，有时不能访问外网，造成网络（导致的）报错

## 本地与服务器上数据的同步
- 可以查看文件树了，可以方便地实现本地和服务器里的文件互传、更新
- 使用 XShell 也可以进行文件互传
